"use strict";(self.webpackChunksharp_etl_site=self.webpackChunksharp_etl_site||[]).push([[905],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>c});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),p=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),m=p(n),c=a,f=m["".concat(s,".").concat(c)]||m[c]||u[c]||o;return n?r.createElement(f,i(i({ref:t},d),{},{components:n})):r.createElement(f,i({ref:t},d))}));function c(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var p=2;p<o;p++)i[p]=n[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},595:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>l,toc:()=>p});var r=n(7462),a=(n(7294),n(3905));const o={},i=void 0,l={unversionedId:"single-job-guide",id:"single-job-guide",title:"single-job-guide",description:"This guide provides a quick guide for commandline single-job",source:"@site/docs/single-job-guide.md",sourceDirName:".",slug:"/single-job-guide",permalink:"/SharpETL/docs/next/single-job-guide",editUrl:"https://github.com/SharpData/SharpETL/edit/asf-site/website/docs/docs/single-job-guide.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Excel template for ods to dwd",permalink:"/SharpETL/docs/next/excel-template-dwd"},next:{title:"batch-job-guide",permalink:"/SharpETL/docs/next/batch-job-guide"}},s={},p=[{value:"Introduction",id:"introduction",level:2},{value:"Parameters",id:"parameters",level:2},{value:"common command params",id:"common-command-params",level:3},{value:"single-job params",id:"single-job-params",level:3}],d={toc:p};function u(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"This guide provides a quick guide for commandline ",(0,a.kt)("inlineCode",{parentName:"p"},"single-job")," "),(0,a.kt)("h2",{id:"introduction"},"Introduction"),(0,a.kt)("p",null,"Different from ",(0,a.kt)("inlineCode",{parentName:"p"},"batch-job"),", the command ",(0,a.kt)("inlineCode",{parentName:"p"},"single-job")," only run a single job each time and should be noted as one of arguments when running a job. For example, when running a sample job which reads data from source-table and write them into target-table, the command is as follows:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},'# run single job by `spark-submit`\nspark-submit --class com.github.sharpdata.sharpetl.spark.Entrypoint spark/build/libs/spark-1.0.0-SNAPSHOT.jar single-job --name=source-table --period=1440 --datasource=sales.online_order --default-start-time="2021-09-30 00:00:00" --local --once\n\n# run single job locally\n./gradlew :spark:run --args="single-job --name=source-table --period=1440 --datasource=sales.online_order --default-start-time=\'2021-09-30 00:00:00\' --local --once"\n')),(0,a.kt)("h2",{id:"parameters"},"Parameters"),(0,a.kt)("h3",{id:"common-command-params"},"common command params"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"--local"))),(0,a.kt)("p",null,"Declare that the job is running in standalone mode. If ",(0,a.kt)("inlineCode",{parentName:"p"},"--local")," not provided, the job will try running with Hive support enabled."),(0,a.kt)("ol",{start:2},(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"--release-resource"))),(0,a.kt)("p",null,"The function is to automatically close spark session after job completion."),(0,a.kt)("ol",{start:3},(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"--skip-running"))),(0,a.kt)("p",null,"When there is a flash crash, use ",(0,a.kt)("inlineCode",{parentName:"p"},"--skip-running")," to set last job status(in running state) as failed and start a new one."),(0,a.kt)("ol",{start:4},(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"--default-start")," / ",(0,a.kt)("inlineCode",{parentName:"li"},"--default-start-time"))),(0,a.kt)("p",null,"Specify the default start time(eg, 20210101000000)/incremental id of this job. If the command is running for the first time, the default time would be the time set by the argument. If not, the argument would not work."),(0,a.kt)("ol",{start:5},(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"--once"))),(0,a.kt)("p",null,"It means that the job only run one time(for testing usage). "),(0,a.kt)("ol",{start:6},(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"--env"))),(0,a.kt)("p",null,"Specify the default env path: local/test/dev/qa/prod running the job."),(0,a.kt)("ol",{start:7},(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"--property"))),(0,a.kt)("p",null,"Using specific property file, eg ",(0,a.kt)("inlineCode",{parentName:"p"},"--property=hdfs:///user/admin/etl-conf/etl.properties")),(0,a.kt)("ol",{start:8},(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"--override"))),(0,a.kt)("p",null,"Overriding config in properties file, eg ",(0,a.kt)("inlineCode",{parentName:"p"},"--override=etl.workflow.path=hdfs:///user/hive/sharp-etl,a=b,c=d")),(0,a.kt)("h3",{id:"single-job-params"},"single-job params"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"--name"))),(0,a.kt)("p",null,"Specify the name of the job to run and the name is required."),(0,a.kt)("ol",{start:2},(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"--period"))),(0,a.kt)("p",null,"Specify the period of job execution."),(0,a.kt)("ol",{start:3},(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"-h")," / ",(0,a.kt)("inlineCode",{parentName:"li"},"--help"))),(0,a.kt)("p",null,"Take an example of parameters and its default value is false."))}u.isMDXComponent=!0}}]);